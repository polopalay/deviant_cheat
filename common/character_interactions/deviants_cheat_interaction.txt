deviants_change_interactions = {
	icon = d_full_body
	common_interaction = yes
	auto_accept = yes
	use_diplomatic_range = no
	ignores_pending_interaction_block = yes
	
	is_shown = {
		scope:actor = {
			is_ai = no
		}
	}
	
	on_send = {
		scope:recipient = {
			save_scope_as = currency_scope
		}
		scope:actor = {
			save_actor_as = currency_actor
			trigger_event = deviants_events.1
		}
	}
}

deviants_change_government = {
	icon = grant_vassal_interaction
	auto_accept = yes
	use_diplomatic_range = no
	ignores_pending_interaction_block = yes

	is_shown = {
		scope:actor = {
			is_ai = no
		}
		scope:recipient = {
			is_ai = yes
			is_ruler = yes
			primary_title.tier >= tier_county
		}
	}
	send_option = {
		flag = deviants_feudal	
		localization = deviants_feudal
	}
	send_option = {
		flag = deviants_clan	
		localization = deviants_clan
	}
	send_option = {
		flag = deviants_tribal	
		localization = deviants_tribal
	}
	send_option = {
		flag = deviants_theocracy	
		localization = deviants_theocracy
	}
	send_option = {
		flag = deviants_republic	
		localization = deviants_republic
	}

	on_accept = {
		scope:recipient = {
			if = {
				limit = { scope:deviants_feudal = yes }
				change_government = feudal_government
			}
			else_if = {
				limit = { scope:deviants_clan = yes }
				change_government = clan_government
			}
			else_if = {
				limit = { scope:deviants_tribal = yes }
				change_government = tribal_government
			}
			else_if = {
				limit = { scope:deviants_theocracy = yes }
				change_government = theocracy_government
			}
			else_if = {
				limit = { scope:deviants_republic = yes }
				change_government = republic_government
			}
		}
	}
}

deviants_switch_character = {
	icon = d_switch
	common_interaction = yes
	auto_accept = yes
	use_diplomatic_range = no
	ignores_pending_interaction_block = yes

	is_shown = {
		scope:actor = {
			is_ai = no
		}
		scope:recipient = {
			is_ai = yes
			is_ruler = yes
			primary_title.tier >= tier_county
		}
	}

	on_accept = {
		scope:actor = {
			set_player_character = scope:recipient
		}
	}
}

deviants_add_character = {
	icon = invite_to_court_interaction
	auto_accept = yes
	use_diplomatic_range = no
	ignores_pending_interaction_block = yes
	
	is_shown = {
		NOT = { scope:recipient = scope:actor }
		scope:recipient = {
			is_ruler = no
			is_landed = no
			NOT = {
				is_courtier_of = scope:actor
			}
		}
		scope:actor = {
			is_ai = no
			is_landed = yes
		}
	}
	
	on_accept = {
		scope:actor = {
			add_courtier = scope:recipient
		}
	}
}

deviants_imprison = {
	icon = imprison_interaction
	auto_accept = yes
	use_diplomatic_range = no
	ignores_pending_interaction_block = yes

	is_shown = {
		NOT = { scope:recipient = scope:actor }
		scope:actor = {
			is_ai = no
		}
	}

	on_accept = {
		scope:actor = {
			imprison = {
				target = scope:recipient
				type = dungeon
			}
		}
	}
}

deviants_vassal_inter = {
	icon = icon_vassal
	auto_accept = yes
	use_diplomatic_range = no
	ignores_pending_interaction_block = yes
	
	is_shown = {
		NOT = { scope:recipient = scope:actor }
		scope:recipient = {
			is_landed = yes
			highest_held_title_tier < scope:actor.highest_held_title_tier
			NOT = { government_has_flag = can_not_be_vassal_or_liege }
			NOT = { is_vassal_of = scope:actor }
		}
		scope:actor = {
			is_ai = no
		}
	}

	on_accept = {
		offer_vassalization_interaction_effect = yes
	}
}

deviants_revoke_character = {
	icon  = revoke_title
	use_diplomatic_range = no
	auto_accept = yes
	ignores_pending_interaction_block = yes
	special_interaction = revoke_title_interaction
	target_type = title
	target_filter = recipient_domain_titles
	
	is_shown = {
		NOT = { scope:actor = scope:recipient }
		scope:recipient = {
			is_landed = yes
		}
		scope:actor = {
			is_ai = no
		}
	}
	
	is_valid_showing_failures_only = {
		scope:actor = { is_ai = no }
	}
	
	can_be_picked_title = {
		scope:target = {
			holder = scope:recipient
		}
	}
}

deviants_befriend_character = {
	icon = synergise_friendship_interaction
	auto_accept = yes
	use_diplomatic_range = no
	ignores_pending_interaction_block = yes

	is_shown = {
		NOT = { scope:recipient = scope:actor }
		scope:actor = { 
			is_ai = no
			NOR = {
				has_relation_friend = scope:recipient
				has_relation_best_friend = scope:recipient
			}
		}
	}

	on_accept = {
		scope:actor = {		
			if = { 
				limit = { has_relation_friend = scope:recipient }
				set_relation_best_friend = scope:recipient
			}
			else = { set_relation_friend = scope:recipient }
		}
	}
}

deviants_lover_character = {
	icon = lover
	auto_accept = yes
	use_diplomatic_range = no
	ignores_pending_interaction_block = yes

	is_shown = {
		NOT = { scope:recipient = scope:actor }
		scope:actor = { 
			is_ai = no
			NOR = {
				has_relation_lover = scope:recipient
				has_relation_soulmate = scope:recipient
			}
		}
	}

	on_accept = {
		scope:actor = {		
			if = { 
				limit = { has_relation_lover = scope:recipient }
				set_relation_soulmate = scope:recipient
			}
			else = { set_relation_lover = scope:recipient }
		}
	}
}

deviants_remove_rival = {
	icon = icon_hostile
	auto_accept = yes
	use_diplomatic_range = no
	ignores_pending_interaction_block = yes

	is_shown = {
		NOT = { scope:recipient = scope:actor }
		scope:actor = {
			is_ai = no
			has_relation_rival = scope:recipient
		}
	}

	on_accept = {
		scope:actor = {
			remove_relation_rival = scope:recipient
		}
	}
}

deviants_create_hook = {
	icon = fabricate_hook_interaction
	auto_accept = yes
	use_diplomatic_range = no
	ignores_pending_interaction_block = yes

	is_shown = {
		NOT = { scope:recipient = scope:actor }
		scope:actor = {
			is_ai = no
		}
	}

	on_accept = {
		scope:actor = {
			add_hook = {
				target = scope:recipient
				type = favor_hook
			}
		}
	}
}
